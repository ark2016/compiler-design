# Семантический анализатор языка спецификации грамматик

Этот проект реализует семантический анализатор для языка спецификации грамматик, разработанный в рамках лабораторной работы 3.3a.

## Структура проекта

- `parser.py` - Синтаксический анализатор, адаптированный из лабораторной работы 2.2 с добавлением координат
- `semantic_analyzer.py` - Реализация семантического анализатора
- `main.py` - Точка входа программы для анализа файлов спецификаций
- `test_semantic_analyzer.py` - Тесты для проверки работы семантического анализатора
- `example_spec.txt` - Пример корректной спецификации

## Реализованные семантические проверки

Семантический анализатор выполняет следующие проверки:

1. Символы в секции `%tokens` не должны иметь правил в секции `%grammar`
2. Все нетерминальные символы должны иметь правила в секции `%grammar`
3. Символы в секции `%types` должны быть уникальными (не повторяться)
4. Проверка согласованности типов в альтернативах правил
5. Тип элемента с префиксом `%rep` должен быть массивом
6. Все методы, вызываемые из правил, должны быть определены в секции `%methods`
7. Все определённые методы должны вызываться из правил

## Запуск тестов

Для запуска автоматических тестов, демонстрирующих работу семантического анализатора:

```bash
python test_semantic_analyzer.py
```

Тесты проверяют обнаружение следующих ошибок:
- Дублирование типа
- Наличие правила для токена
- Неиспользуемый метод
- Вызов неопределенного метода
- Использование не-массива с `%rep`

## Запуск анализатора для проверки файла спецификации

```bash
python main.py <путь_к_файлу_спецификации>
```

## Примечания

Проект опирается на парсер, разработанный в лабораторной работе 2.2, с добавлением координат для более точного указания местоположения ошибок.
